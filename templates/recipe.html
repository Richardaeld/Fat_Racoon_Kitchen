{% extends "base.html" %}
{% block modal %}
<!--  delete carousel  -->
<aside class="row no-gutters justify-content-center custom-modal make-invis" style="background-color: transparent;">
    <div class="col-12 modal-background"></div>

    <form class="col-10 col-md-6 form-login" style="overflow: hidden;" method="POST" action="{{ url_for('recipe', recipeId=recipeInfo._id) }}">
        <div class="row no-gutters">
            <div class="col-12 tab-body">
                <div class="tab">
                    <p id="checkName">Type in recipe name <span value="{{recipeInfo.name}}">*{{recipeInfo.name}}*</span> and click delete to remove entery</p>
                </div>
            </div>
        </div>
        <input type="text" name="recipeName" id="recipeName" invalid>
        <input class="custom-button" id="custom-button" type="submit" value="Delete" disabled>
    </form>


</aside>
{% endblock %}

{% block section %}
<section class="row no-gutters generic-background">

    <!-- Allow a user to edit or delete their own recipes -->
    {% if recipeInfo.created_by == session["user"] %}
    <div class="col-12">
        <div class="row no-gutters justify-content-between">
            <div class="col-4 col-lg-2 custom-button sticky-note-no-shadow profile-button">
                <div class="sticky-note-inner-div blank-anchor">
                    <a href="{{ url_for('add_edit_recipe', recipeId=recipeInfo._id) }}">
                        <h6>Edit Recipe</h6>
                    </a>
                </div>
            </div>
            <div class="col-4 col-lg-2 custom-button sticky-note-no-shadow profile-button" id="deleteModal">
                <div class="sticky-note-inner-div" >
                    <h6>Delete Recipe</h6>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <!-- recipe picture, name, times, and description -->
    <div class="col-12">
        <div class="row no-gutters justify-content-around">

            <!-- picture of recipe -->
            <div class="col-12 col-md-12 col-lg-6 col-xl-3">
                <div class="row no-gutters justify-content-center">
                    <div class="col-10 sticky-note large-content-height">
                        {% if recipeInfo.avatar %}
                            <div id="avatarImg" class="sticky-note-inner-div">
                                <img src="{{ url_for('avatar', avatar_image=recipeInfo.avatar) }}" alt="">
                            {% else %}
                            <div class="sticky-note-inner-div">
                                <h1>
                                    This is a place holder for recipes without images :'(
                                </h1>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- recipe name and times -->
            <div class="col-sm-11 col-md-11 col-lg-11 col-xl-6">
                <div class="row no-gutters justify-content-center">
                    <div class="col-10 sticky-note sticky-note-middle">
                        <div class="row no-gutters sticky-note-inner-div justify-content-center">

                            <div class="col-10 recipe-name">
                                <h1>
                                    {{ recipeInfo.name.title() }}
                                </h1>
                                <div class="blank-anchor">
                                    <!--  Recipe favorite button  -->
                                    <h3> 
                                        {% if favoriteRecipe == "None" %}
                                        {% elif favoriteRecipe == True %}
                                        <a href="{{ url_for('addFavorite', recipeId=recipeInfo._id, favoriteChange=favoriteRecipe) }}">Favorite!</a>
                                        <img class="favorite" src="{{ url_for('static', filename='images/star-full.svg') }}" alt="Im the favorite icon">
                                        {% else %}
                                        <a href="{{ url_for('addFavorite', recipeId=recipeInfo._id, favoriteChange=favoriteRecipe) }}">Not a Favorite</a>
                                        <img class="favorite" src="{{ url_for('static', filename='images/star-outline.svg') }}" alt="Im not the favorite icon">
                                        {% endif %}
                                    </h3>
                                </div>
                            </div>

                            <span class="col-4">
                                <h6>Prep Time</h6>
                                <p>{{ recipeInfo.time[0] }}</p>
                            </span>
                            <span class="col-4">
                                <h6>Cook Time</h6>
                                <p>{{ recipeInfo.time[1] }}</p>
                            </span>
                            <span class="col-4">
                                <h6>Total Time</h6>
                                <p>{{ recipeInfo.time[2] }}</p>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recipe description -->
            <div class="col-12 col-md-12 col-lg-6 col-xl-3">
                <div class="row no-gutters justify-content-center">
                    <div class="col-10 sticky-note sticky-note-right large-content-height">  
                        <div class="row no-gutters align-items-center sticky-note-inner-div">
                            <p class="col">
                                {{ recipeInfo.text }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- recipe ingredients and steps -->
    <div class="col-12">
        <div class="row no-gutters">
            <!-- Recipe Ingredients -->
            <div class="col-12 col-md-6">
                <div class="row no-gutters justify-content-center">
                    <div class="col-10 sticky-note">
                        <div class="sticky-note-inner-div">
                            <ul class="recipe-lists">
                                <h1>Recipe Ingredients</h1>
                                <hr>
                                {% for ingredient in recipeInfo.ingredients %}
                                    <li>
                                        <h6>{{ ingredient }}</h6>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Recipe Steps -->
            <div class="col-12 col-md-6">
                <div class="row no-gutters justify-content-center ">
                    <div class="col-10 sticky-note sticky-note-right">
                        <div class="sticky-note-inner-div ">
                            <ul class="recipe-lists recipe-lists-steps">
                                <h1>Recipe Steps</h1>
                                <hr>
                                {% for step in recipeInfo.steps %}
                                    <li>
                                        <h6>{{ step }}</h6> 
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>
{% endblock %}

{% block custom_script %}
<script src="{{ url_for('static', filename='js/recipe.js') }}"></script>
<script src="{{ url_for('static', filename='js/avatarImageSize.js') }}"></script>
{% endblock %}