{% extends "base_login.html" %}
{% block section %}
<!-- Back Button -->
<aside class="container-fluid generic-background">
    <div class="row no-gutters">
        <a href="{{ url_for('profile') }}" class="col-5 custom-button sticky-note-no-shadow blank-anchor custom-js-button">
            <div class="sticky-note-inner-div">
                <h2 class="remove-p-margin h2-reduce">Back</h2>
            </div>
        </a>
    </div>
</aside>
<section class="container-fluid row no-gutters generic-background">
    <div class="row no-gutters justify-content-center">
        <!-- header -->
        <div class="col-11 header-text-shadow lessons-header make-space">
            <h2>Update {{ userInfo.username.title() }}'s Information</h2>
        </div>

        <!-- Edit user info form -->
        <form class="col-11 form-base generic-box-shadow yanone-text" method="POST" enctype="multipart/form-data" action="{{ url_for('update_user_info') }}">
            <div class="row no-gutters justify-content-around make-space-top make-space">

                <!-- User Name -->
                <div class="col-12 col-xl-6 form-input-spacing">
                    <label for="username">Name</label>
                    <input class="formValidation nameValidation" type="text" id="username" name="username" value="{{ userInfo.username.title() }}" required>
                    <div class="invalid-form form-is-valid make-invis">
                        <p class="make-invis remove-p-margin">Must be between 5 and 100 characters, can contain letters and numbers</p>
                        <p class="make-invis remove-p-margin"></p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/</p>
                    </div>
                </div>

                <!-- Email -->
                <div class="col-12 col-xl-6 form-input-spacing">
                    <label for="email">Email</label>
                    <input class="formValidation emailValidation" type="text" id="email" name="email" value="{{ userInfo.email }}" required>
                    <div class="invalid-form form-is-valid make-invis">
                        <p class="make-invis remove-p-margin">Must be between 5 and 255 characters, can contain letters and numbers</p>
                        <p class="make-invis remove-p-margin">Must contain appropiate email suffix (.com, .edu, .net)</p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/</p>
                    </div>
                </div>

                <!--  avatar  -->
                <div class="col-12 col-xl-6 form-input-spacing">
                    <label for="avatar">Avatar</label>
                    <input type="file" name="avatar" id="avatar" class="avatar-upload-user clickable">
                    <input type="text" name="avatar_name" id="avatar_name" class="make-invis" value="">
                    <input type="text" name="avatar_file_valid" id="avatar_file_valid" class="make-invis" value="">
                    <p id="avatar_valid" class="make-invis remove-p-margin">Please select a file of 500KB or less. Server space is limited!</p>
                </div>

                <!--  current password  -->
                <div class="col-12 col-xl-6 form-input-spacing">
                    <label for="password">Current Password</label>
                    <input class="formValidation passwordSets form-invalid-view" type="password" id="password" name="password" value="" required>
                    <div class="invalid-form make-invis">
                        <p class="remove-p-margin">Password must contain upper case letter, lower case letter, a number, be between 8 and 20 characters</p>
                        <p class="make-invis remove-p-margin"></p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/</p>
                    </div>
                </div>

                <!-- Create new password button -->
                <div class="hidePassword make-space custom-js-button-password form-input-spacing new-password" tabindex="0" role="button" aria-pressed="false">
                    <p class="form-button remove-p-margin max-width">Create new password</p>
                </div>

                <!--  New passwod  -->
                <div class="col-12 col-xl-6 form-input-spacing make-invis hidePassword">
                    <label for="passwordCheck1">New Password</label>
                    <input class="formValidation passwordSets passwordCompare" type="password" id="passwordCheck1" name="passwordCheck1" value="" >
                    <div class="invalid-form form-is-valid make-invis">
                        <p class="make-invis remove-p-margin">Password must contain upper case letter, lower case letter, a number, be between 8 and 20 characters and must match new password</p>
                        <p class="make-invis remove-p-margin">New password and confirm new password must match</p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/</p>
                    </div>
                </div>

                <!--  Confirm new password  -->
                <div class="col-12 col-xl-6 form-input-spacing make-invis hidePassword">
                    <label for="passwordCheck2">Confirm New Password</label>
                    <input class="formValidation passwordSets passwordCompare" type="password" id="passwordCheck2" name="passwordCheck2" value="" >
                    <div class="invalid-form form-is-valid make-invis">
                        <p class="make-invis remove-p-margin">Password must contain upper case letter, lower case letter, a number, be between 8 and 20 characters and must match new password</p>
                        <p class="make-invis remove-p-margin">New password and confirm new password must match</p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/</p>
                    </div>
                </div>

                <!-- Bio -->
                <div class="col-12 form-input-spacing">
                    <label for="bio">Bio</label>
                    <textarea class="formValidation textValidation" name="bio" id="bio" cols="30" rows="5" >{{ userInfo.bio }}</textarea>
                    <div class="invalid-form form-is-valid make-invis">
                        <p class="make-invis remove-p-margin">Must be between 0 and 400 characters</p>
                        <p class="make-invis remove-p-margin"></p>
                        <p class="make-invis remove-p-margin">Can only contain a-z, A-Z, 0-9, and !@#%&*_+-=?.'/",</p>
                    </div>
                </div>

                <!-- submit button -->
                <input class="custom-button make-space-margin" id="custom-button" type="submit" value="Update" tabindex="0" aria-pressed="false" disabled>

            </div>
        </form>
    </div>
</section>
{% endblock %}

{% block custom_script %}
<script src="{{ url_for('static', filename='js/editUserInfo.js') }}"></script>
{% endblock %}